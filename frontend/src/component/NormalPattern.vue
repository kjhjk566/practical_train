<template>
    <div class="patterns">
      <div class="show-patterns">
        <h4>模式选择：</h4>
        <el-input :placeholder="'已选择：'+selectedIndexes" :disabled="true"></el-input>
      </div>
      <div class="confirm">
        <el-button class="button-color" type="primary" @click="confirm">确定</el-button>
        <el-button class="button-color" type="primary" @click="randomSelect">随机</el-button>
      </div>
      <div class="pattern-charts">
        <PatternChart v-for="(item, index) in patterns" :propsData="item" :metricIndex="index" @listenCharts="listenCharts"></PatternChart>
      </div>
      
      
    </div>
  </template>
  
  <script>
import PatternChart from './PatternChart.vue';

  export default {
    name: "NormalPattern",
    data() {
        return {
            labName: "",
            metricsNum: 0,
            selectedIndexes: [],
            patterns: [
            [-0.85750047, -0.75674892, -0.65057929, -0.61587254, -0.60985686,
            -0.51113656, -0.46949425, -0.51329573, -0.51015525, -0.5109062 ,
            -0.51918783, -0.64000834, -0.51708855, -0.40472919, -0.3648051 ,
            -0.19452937, -0.12407208, -0.18082165, -0.26303763, -0.286363  ,
            -0.16433388, -0.035342  ,  0.0446569 ,  0.06462299,  0.14624206,
              0.17533649,  0.16337331,  0.23791013,  0.20850658,  0.35748411,
              0.20357877,  0.24170195,  0.18885174,  0.50621711,  0.5653809 ,
              0.68513144,  0.64149225,  0.61452175,  0.43736577,  0.32746975,
              0.3723456 ,  0.27537796,  0.15372025,  0.18119314,  0.22400932,
              0.20231694,  0.22591955,  0.07924865,  0.13412608,  0.08248134,
              0.25836211,  0.01802619, -0.23625991, -0.25335327, -0.34005423,
            -0.31692133, -0.29244793, -0.14265685, -0.18731097, -0.12521199,
            -0.09021472, -0.08749585,  0.13737252,  0.08838868,  0.02716133,
            -0.03807261, -0.16115976, -0.16038094, -0.07545198, -0.3316828 ,
            -0.24764457, -0.29730091, -0.44583009, -0.49794752, -0.56036741,
            -0.56656449, -0.2586807 , -0.31807147, -0.24087839, -0.0595    ,
            -0.00165309,  0.01106091,  0.11120948, -0.03248801,  0.01227538,
              0.00829788,  0.18308521,  0.14773167,  0.14343508,  0.18533179,
              0.38118225,  0.59238396,  0.85652688,  0.96154646,  0.70015173,
              0.61369446,  0.67545712,  0.72540472,  0.78604047,  0.70075736],
              [ 1.52250184,  1.61420124,  1.46826523,  1.30111409,  1.57474078,
              1.53669542,  1.60971186,  1.60469225,  1.56835488,  1.50243118,
              1.45039345,  1.17028316,  1.04721139,  1.20029921,  1.20456895,
              0.83666469,  0.92763665,  0.74632026,  0.67514355,  0.69289997,
              0.78161029,  0.89118103,  1.15374183,  1.6292325 ,  1.51487042,
              1.48018531,  1.50433635,  1.37519627,  1.22196235,  1.26241207,
              1.22612955,  1.287562  ,  1.30313272,  1.14017519,  1.22990818,
              1.36510371,  1.07039162,  1.16677866,  1.04632224,  1.25121564,
              1.21434139,  0.9825957 ,  0.71663654,  0.6411731 ,  0.62903081,
              0.60271163,  0.62090378,  0.58085463,  0.52747022,  0.49897014,
              0.3953773 ,  0.51810705, -0.00497708, -0.33702343, -0.44645099,
            -0.57993416, -0.30916452, -0.57993387, -0.78878589, -0.97065228,
            -0.76086189, -0.70282662, -0.82603407, -0.55814027, -0.36121209,
            -0.4947339 , -0.45312302, -0.85191985, -0.97683413, -0.77181402,
            -0.60917538, -0.53520505, -0.65207165, -0.86737497, -0.99592576,
            -0.86895114, -0.81942748, -1.06021415, -1.33024961, -1.42261662,
            -1.36244876, -1.5713294 , -1.81723841, -2.0208083 , -1.89999706,
            -1.96091762, -2.19771977, -2.21055427, -2.1438674 , -2.27017912,
            -2.26018048, -1.96307341, -1.81566761, -1.79057227, -2.03519907,
            -1.88309762, -1.89259274, -1.72501282, -1.55726018, -1.77040007],
            [-0.73764742, -1.28321066, -1.49919963, -1.0593131 ,  0.37675387,
              0.78282113,  0.20508433,  0.07726999,  0.03278905,  0.24170984,
              0.42021517,  0.54989593,  0.87512915,  1.15724168,  1.17216898,
              0.04404655,  0.72897679, -0.57743508,  0.0718076 ,  0.08004416,
              0.24326656,  0.65461258,  0.40224276, -0.26775277,  0.03473426,
              0.20733586, -0.08045987, -0.48701911, -0.88279237, -0.71687117,
            -0.56218095,  0.48336458,  0.45710631,  0.19274712,  0.15312022,
              1.08340509, -0.53699938, -0.76563236, -0.8089209 ,  0.18048926,
              0.98476293,  1.42468722,  0.45043293,  0.38870134,  0.26650258,
              1.43457244,  1.18970213,  0.74813266,  1.1263455 ,  0.96227561,
            -0.05951639,  0.21237502, -0.88670581, -1.47913191, -0.37158799,
            -0.81579819, -1.22287755, -0.47694053, -1.35444836, -1.34798411,
            -1.19217196, -1.03531743, -1.18558116, -1.96358733, -2.09209391,
            -1.74524334, -2.24917588, -1.48241047, -1.78577378, -1.64042286,
            -0.76086817,  0.38821331,  1.49997716,  1.62838727,  2.05041862,
              1.66571331,  1.51164849,  1.32478777,  0.50707835,  0.44953495,
              0.44789626,  0.33654171, -0.7571741 , -1.01335604, -1.13439705,
            -1.29957577, -1.35650051, -0.35123675,  0.33542856,  0.55988945,
              0.27820416,  0.5643011 ,  0.43843491,  1.06352543,  1.84610378,
              1.33518828,  1.19951607,  1.15535953,  0.88123255, -0.23893809],
              [ 1.68594984,  1.08127859, -0.37763754,  1.19380439,  1.40880467,
            -0.97707969, -1.11903251, -0.91566802,  0.22716493,  0.0812456 ,
              0.2551896 ,  1.03766168, -1.14776319,  0.4405706 ,  0.8098536 ,
              0.78613935, -0.3962231 , -0.86588245, -1.18696528,  2.14035283,
            -0.73801863,  1.57143779,  1.1213403 ,  0.51033289,  0.11140525,
              1.39961204,  1.24204033,  0.05630806,  0.46720308,  1.02246669,
            -0.68262404,  0.38243975,  1.25270896, -1.10087815,  0.87971274,
              1.80830887, -0.47744458,  1.6511063 , -0.75345956,  0.09347958,
              1.91466547, -1.03693074, -0.44925803,  1.52553452, -0.23070115,
              1.80245274,  1.43643074, -0.75765363,  0.60354714,  1.18243028,
            -1.21921115, -1.42726318, -1.08542098,  0.43010428,  0.25734171,
              0.88235912, -0.34187223, -1.84581083, -0.42449615,  1.00380483,
            -0.57711427, -0.76086956, -1.40098101,  1.28462743,  0.22985046,
            -2.06920488, -0.68160367, -1.60433803,  0.97522417,  0.10042274,
            -0.53268341,  0.15245205, -1.81098628, -0.18121744, -0.97766247,
              0.0283645 , -1.227761  , -2.13738949, -1.15208848, -0.63544234,
              0.32112875, -0.50955716,  0.7845625 ,  0.85518952,  1.11808108,
            -0.35650255, -0.86804524, -2.02985699,  0.78951408,  0.72767991,
              0.271395  ,  1.18285777, -1.56237027, -0.44259344, -1.40710227,
              1.03126054, -0.21463504, -1.00965197, -1.12056636, -0.78168119],
              [ 0.44771871, -1.4684321 , -0.08113129,  0.73884069,  0.15289209,
            -0.08568688, -0.20093894,  1.34465187, -1.17907193,  0.1120994 ,
              0.22990834,  0.01969224, -0.1235124 , -0.7595664 , -0.05957951,
              0.26255697,  0.59618824, -0.61656672, -1.05485212, -0.88219359,
            -0.72890313, -0.73513566, -0.24842256,  1.85879167, -0.38656898,
              1.05147533, -0.30447066, -1.05161771, -0.81720481,  1.53505176,
              0.74949497,  0.10209018,  1.14545094, -0.87272471,  1.67154246,
            -1.34450612, -1.47072867, -1.37142355, -0.73296607,  0.78307362,
            -1.01823841,  1.31292118,  1.65712169,  1.72025796, -0.47945413,
            -0.70717732, -1.03529846,  1.29697977,  0.43872094, -1.43628505,
            -0.85233051,  1.79073187, -1.12718123, -1.07149816,  0.86868916,
              0.86985591,  1.01867706,  1.65823194, -1.09164208, -0.81891582,
              1.34209944, -1.74122556, -0.92625274, -0.61250036,  1.51005432,
              1.63678224,  0.74160574,  1.11640095,  1.20096079, -1.19392846,
            -1.03589712, -1.05534152, -0.6925946 , -0.50437427,  0.00326339,
            -0.13469607,  0.78348319,  1.72556844,  1.15600332, -1.27613582,
              0.20410238,  0.23143677, -0.09080422, -0.33138279,  0.09298288,
            -0.70108898, -1.58508099, -1.02148814, -0.45763515,  1.30753303,
            -1.22873566,  0.11441478, -0.69419109,  0.73514029,  0.76156397,
              1.80023298, -0.04230894, -0.24411981, -0.94914841,  0.83582052],
              [2.20577548e+00, 3.59252133e+00, 2.61967085e-01, 8.67493717e-01,
            4.26246152e-01, 7.49175895e-01, 7.66215931e-01, 2.04375743e+00,
            3.49209895e+00, 1.45187202e+00, 5.93345409e-01, 6.02145432e-01,
            3.89183517e-01, 2.18757548e+00, 1.53139317e-01, 3.20031577e-01,
            8.56084637e-01, 2.50937191e+00, 1.48225252e+00, 6.34363564e-01,
            1.14668168e+00, 7.89223419e-01, 2.10747236e+00, 1.65039499e-01,
            1.23177432e-01, 6.00603676e-01, 1.25534226e+00, 1.91934632e+00,
            7.84040501e-01, 2.56818262e-01, 5.29158734e+00, 4.24919373e-01,
            6.05201852e-01, 1.69454409e+00, 3.81747282e-01, 1.25478321e+00,
            5.51358053e-01, 1.23296737e+00, 1.18429402e+00, 3.38508774e-01,
            1.21273838e+00, 6.77530367e-02, 6.06409384e-01, 8.21558572e-01,
            6.59652869e-01, 1.43419018e+00, 4.89966228e-03, 4.90770908e-01,
            9.42471408e-01, 1.16921148e-01, 3.49344384e-01, 6.69424372e-01,
            2.11187180e+00, 2.88224679e+00, 5.17297293e+00, 5.97888388e-01,
            2.53833989e-01, 1.58248929e+00, 2.00150852e+00, 9.68900914e-01,
            1.90694772e-01, 4.53383147e-01, 2.33046182e-01, 1.04337531e+00,
            4.05887034e-02, 4.78826420e-02, 7.64321309e-01, 2.08204589e+00,
            2.66130870e-01, 2.89580436e-01, 2.41478335e+00, 5.28455585e-01,
            3.01669445e-01, 1.90791236e+00, 1.73268070e+00, 2.25925066e+00,
            1.94409908e+00, 3.16455013e-01, 1.59289339e+00, 3.80074726e-02,
            3.69869473e-01, 3.56763527e-01, 3.99187363e-01, 1.12576171e+00,
            9.23858350e-01, 6.89933132e-01, 6.73366649e-01, 1.86367819e+00,
            7.50588729e-01, 8.79242807e-01, 2.56633350e-02, 1.58430755e-01,
            8.30242867e-01, 1.83402407e-01, 1.56089115e+00, 8.29485449e-02,
            3.24677681e+00, 4.30438439e-01, 4.78051129e-01, 2.40178286e-02],
            [3., 1., 2., 1., 0., 0., 1., 4., 0., 0., 2., 2., 0., 0., 2., 2., 0.,
            0., 0., 1., 0., 0., 0., 1., 1., 1., 2., 0., 1., 2., 1., 2., 0., 2.,
            1., 0., 1., 1., 2., 2., 0., 1., 1., 0., 0., 1., 1., 1., 2., 2., 1.,
            0., 1., 1., 0., 1., 3., 0., 0., 1., 0., 1., 1., 1., 0., 0., 1., 0.,
            0., 0., 1., 0., 1., 1., 0., 3., 0., 0., 3., 4., 0., 2., 2., 1., 1.,
            2., 2., 0., 4., 1., 0., 1., 0., 2., 4., 0., 1., 1., 1., 2.],
            [3., 1., 2., 1., 0., 0., 1., 4., 0., 0., 2., 2., 0., 0., 2., 2., 0.,
            0., 0., 1., 0., 0., 0., 1., 1., 1., 2., 0., 1., 2., 1., 2., 0., 2.,
            1., 0., 1., 1., 2., 2., 0., 1., 1., 0., 0., 1., 1., 1., 2., 2., 1.,
            0., 1., 1., 0., 1., 3., 0., 0., 1., 0., 1., 1., 1., 0., 0., 1., 0.,
            0., 0., 1., 0., 1., 1., 0., 3., 0., 0., 3., 4., 0., 2., 2., 1., 1.,
            2., 2., 0., 4., 1., 0., 1., 0., 2., 4., 0., 1., 1., 1., 2.],
            [-0.5399458 , -0.98506898, -0.58956099,  0.45194228,  0.32961528,
            -0.30305624,  0.25220148, -0.93105054,  0.15378727,  0.07380962,
            -0.79461356, -0.37913825, -0.26659038, -0.73715011,  0.11345126,
              0.19275661, -0.60540684,  0.71631477, -0.43859725, -0.92094657,
              0.45678925,  0.17294716,  0.96603054,  0.51512718, -0.15232059,
            -0.641429  ,  1.04316353, -0.73579857, -0.75333953, -0.27283996,
            -0.30181304, -0.99849705,  0.38739777, -0.38638904, -0.86359111,
              0.27650445, -0.40681646, -0.57035112, -0.86899013,  0.04266254,
              0.5179385 ,  0.21072712,  0.68738964,  0.15518475,  0.83644368,
            -0.26412976,  0.21604987,  0.80126923, -0.89703162, -0.44559434,
              0.57252544, -0.90459528, -0.00494509, -0.78885684, -0.66028855,
              0.24643437,  0.45112096, -0.49330972, -0.82767204,  0.07351362,
            -0.18038082, -0.6645895 ,  0.23796331, -0.57843842, -0.58714416,
            -0.81321869, -0.05651764, -0.68766598,  0.54524468,  0.54534412,
              0.75488716, -0.83805943, -0.80480736,  0.43670308, -0.65498275,
            -0.49393075,  0.9148297 , -0.00214993, -0.13652414, -0.47739816,
            -0.07852976, -0.57441413,  0.48636677,  0.71037314,  0.4642788 ,
            -0.75452931, -0.33395532, -0.76425637,  0.99967585,  0.68944371,
            -0.49338721,  0.64215346,  0.99562458, -1.00479119,  1.00868985,
            -0.14958424,  0.4068949 , -0.93189333,  0.11731233,  0.05996294],
            [-1.06315127, -0.16798988, -0.20886001,  0.13607778,  0.62960323,
              0.35616651, -0.06435145, -0.40548834, -0.04789746, -0.73288983,
            -0.34254042,  0.29139577,  0.39999823,  0.8467986 ,  0.8508311 ,
              0.09449494, -0.23291775, -0.41948596,  0.0958227 ,  0.67675971,
            -0.83274344,  1.02711301, -0.45887262, -0.3936348 ,  0.73767568,
              0.42203266,  0.02416464, -0.32806436, -0.92907045, -0.04285608,
            -0.78321141, -0.12851079, -0.43522467, -0.16265635,  0.24585992,
              0.11631453,  0.43982211,  1.0293352 ,  0.25283056,  0.08397626,
              0.44559363, -0.11792186,  0.1674746 ,  0.08403752, -0.41285705,
            -0.56027089, -0.919109  , -0.86186298,  0.27751385, -0.54391256,
            -0.99975499,  0.4341634 , -0.82027089, -0.33059914, -0.31601006,
              0.73918953, -0.34080788, -0.6221094 , -0.69050825,  0.35942901,
            -0.11280838, -0.40570983,  0.88725481,  0.63192374,  0.55859396,
              0.28010573, -0.3559024 ,  0.59588232,  0.77088693, -0.46680513,
              0.40630509, -0.00333554, -0.18709904, -0.68265946, -0.49135221,
            -0.86853923, -1.06910188,  0.78000229, -0.41788654, -0.02311295,
            -0.38785759, -0.0692541 , -0.91565193, -0.4048581 , -0.3217856 ,
              0.48338234,  0.53035242,  0.80603645, -0.32712598,  0.26289873,
              0.88303822, -0.22917548,  0.19735268,  0.49026841, -0.64427809,
              0.41165182,  0.83912892,  0.18279811,  0.16404174,  0.93125908],
            ],
            
        };
    },
    methods: {
      confirm() {
          // let selectedPatterns = [];
          // for (let i = 0; i < this.selectedIndexes.length; i++) {
          //   selectedPatterns.push(this.patterns[this.selectedIndexes[i]]);
          // }
          this.$emit("listenPattern", this.selectedIndexes);
        },
        randomSelect() {
          this.$emit("listenPattern", []);
        },
        listenCharts(data) {
          // console.log(data)
          if (data[0]=="yes" && this.selectedIndexes.indexOf(data[1])==-1) {
            this.selectedIndexes.push(data[1])
            this.selectedIndexes.sort()
            
          } else if (data[0]=="no" && this.selectedIndexes.indexOf(data[1])!=-1) {
            this.selectedIndexes.splice(this.selectedIndexes.indexOf(data[1]), 1)
          }
        }
    },
    components: { PatternChart }
}
  </script>
  
  <style scoped>
  .experiment {
    display: flex;
  }
  .pattern-charts {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  .show-patterns {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 30%;
  }
  .patterns {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h4 {
    margin-bottom: 10px;
  }
  .confirm {
    margin-top: 20px;
  }
  /* .button-color {
    background-color: #3f5b94;
    border-color: #3f5b94;
  } */
  </style>
  